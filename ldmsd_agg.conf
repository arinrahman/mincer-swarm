# --- LDMS aggregator config (ldmsd_agg.conf) ---
# Runtime tunables (optional but recommended)
worker_threads num=4
set_memory size=128M   # matches LDMSD_MEM_SZ you set; either one is fine
# 1) Producers
prdcr_add name=prdcr_server1 host=server1 xprt=sock port=412 type=active interval=20000000
prdcr_add name=prdcr_server2 host=server2 xprt=sock port=412 type=active interval=20000000
prdcr_add name=prdcr_server3 host=server3 xprt=sock port=412 type=active interval=20000000
prdcr_add name=prdcr_client1 host=client1 xprt=sock port=412 type=active interval=20000000
prdcr_add name=prdcr_client2 host=client2 xprt=sock port=412 type=active interval=20000000
prdcr_add name=prdcr_client3 host=client3 xprt=sock port=412 type=active interval=20000000
prdcr_add name=prdcr_client4 host=client4 xprt=sock port=412 type=active interval=20000000
prdcr_add name=prdcr_client5 host=client5 xprt=sock port=412 type=active interval=20000000
prdcr_add name=prdcr_client6 host=client6 xprt=sock port=412 type=active interval=20000000
prdcr_start name=prdcr_server1
prdcr_start name=prdcr_server2
prdcr_start name=prdcr_server3
prdcr_start name=prdcr_client1
prdcr_start name=prdcr_client2
prdcr_start name=prdcr_client3
prdcr_start name=prdcr_client4
prdcr_start name=prdcr_client5
prdcr_start name=prdcr_client6
# 2) Subscribe to everything every 1s
updtr_add name=all interval=1000000
updtr_prdcr_add name=all regex=.*
updtr_start name=all
# 3) (no store_csv section)
# 4) Local control/listen port for ldms tools
listen name=ctl xprt=sock port=10001